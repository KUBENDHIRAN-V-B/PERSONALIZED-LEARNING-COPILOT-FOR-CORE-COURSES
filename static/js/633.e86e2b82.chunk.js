"use strict";(self.webpackChunklearning_copilot_frontend=self.webpackChunklearning_copilot_frontend||[]).push([[633],{3633(e,s,t){t.r(s),t.d(s,{default:()=>d});var r=t(9950),a=t(8429),l=t(9861),i=t(2555),n=t(2932),o=t(4414);const c=()=>{var e,s,t,a;const[c,d]=(0,r.useState)(null),[m,x]=(0,r.useState)(!0),[u,h]=(0,r.useState)({active:!1,topic:"",elapsedSeconds:0}),[g,p]=(0,r.useState)(!1),[b,v]=(0,r.useState)(!1),[f,j]=(0,r.useState)(9),[y,N]=(0,r.useState)(11),[w,k]=(0,r.useState)("trees"),[S,C]=(0,r.useState)(!1),[T,F]=(0,r.useState)(!1),A=(0,r.useCallback)(async()=>{try{const e=await n.rh.getInsights();d(e.data)}catch(e){console.error("Failed to fetch insights:",e),d({peakFocusTime:{range:"9 AM - 11 AM",score:78,isCustom:!1,startHour:9,endHour:11},optimalDuration:{value:"25 minutes",avgAccuracy:85},masteryByTopic:[{topic:"trees",mastery:75,sessionsCount:12},{topic:"graphs",mastery:60,sessionsCount:8},{topic:"sorting",mastery:90,sessionsCount:15},{topic:"dynamic programming",mastery:45,sessionsCount:6}]})}finally{x(!1)}},[]),z=(0,r.useCallback)(async()=>{try{var e;const s=await n.rh.getTimerStatus();null!==s&&void 0!==s&&null!==(e=s.data)&&void 0!==e&&e.active&&h({active:!0,topic:s.data.topic||"",elapsedSeconds:s.data.elapsedSeconds||0,startTime:s.data.startTime?new Date(s.data.startTime):void 0})}catch(s){console.error("Failed to check timer:",s)}},[]);(0,r.useEffect)(()=>{A(),z()},[A,z]),(0,r.useEffect)(()=>{let e;return u.active&&(e=window.setInterval(()=>{h(e=>(0,i.A)((0,i.A)({},e),{},{elapsedSeconds:e.elapsedSeconds+1}))},1e3)),()=>{void 0!==e&&clearInterval(e)}},[u.active]);return m?(0,o.jsx)("div",{className:"space-y-4",children:(0,o.jsx)("div",{className:"bg-gray-200 animate-pulse rounded-xl h-24"})}):(0,o.jsxs)("div",{className:"space-y-6",children:[T&&(null===c||void 0===c||null===(e=c.peakFocusTime)||void 0===e?void 0:e.range)&&(0,o.jsxs)("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-4 py-3 rounded-lg shadow-lg flex items-center gap-2 z-50 animate-slide-in",children:[(0,o.jsx)(l.YrT,{})," Reminder set for ",c.peakFocusTime.range,"!"]}),u.active&&(0,o.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl p-4 text-white animate-pulse-slow",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:(0,o.jsx)(l.Ohp,{className:"text-2xl"})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"text-sm opacity-80",children:"Currently Studying"}),(0,o.jsx)("div",{className:"text-xl font-bold capitalize",children:u.topic})]})]}),(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsx)("div",{className:"text-4xl font-mono font-bold",children:(e=>{const s=Math.floor(e/60),t=e%60;return"".concat(s.toString().padStart(2,"0"),":").concat(t.toString().padStart(2,"0"))})(u.elapsedSeconds)}),(0,o.jsx)("button",{onClick:async()=>{try{if(!u.active)return;const e=Math.min(100,70+Math.floor(u.elapsedSeconds/60)),s=await n.rh.stopTimer(75,e);null!==s&&void 0!==s&&s.data&&(h({active:!1,topic:"",elapsedSeconds:0}),await A())}catch(e){alert("Failed to complete session. Please try again.")}},className:"bg-white/20 hover:bg-white/30 p-3 rounded-full transition-colors",children:(0,o.jsx)(l.GHw,{className:"text-xl"})})]})]})}),(0,o.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4 hover:shadow-md transition-all duration-200",children:(0,o.jsxs)("div",{className:"flex items-start gap-4",children:[(0,o.jsx)("div",{className:"bg-green-500 w-12 h-12 rounded-xl flex items-center justify-center text-white flex-shrink-0 shadow-lg",children:(0,o.jsx)(l.Wh$,{className:"text-xl"})}),(0,o.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,o.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsxs)("h4",{className:"font-bold text-gray-900",children:["Peak Focus: ",null===c||void 0===c?void 0:c.peakFocusTime.range]}),(null===c||void 0===c?void 0:c.peakFocusTime.isCustom)&&(0,o.jsx)("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:"Custom"})]}),(0,o.jsxs)("div",{className:"text-right flex-shrink-0",children:[(0,o.jsx)("div",{className:"text-lg font-bold text-gray-900",children:null===c||void 0===c?void 0:c.peakFocusTime.range}),(0,o.jsx)("div",{className:"text-xs text-gray-500",children:"Best Study Time"})]})]}),(0,o.jsxs)("p",{className:"text-gray-600 text-sm mt-1",children:["Your focus score is ",null!==(s=null===c||void 0===c||null===(t=c.peakFocusTime)||void 0===t?void 0:t.score)&&void 0!==s?s:78,"% during these hours. Schedule important learning sessions then for maximum retention."]}),(0,o.jsxs)("div",{className:"flex items-center gap-4 mt-3",children:[(0,o.jsxs)("button",{onClick:()=>{null!==c&&void 0!==c&&c.peakFocusTime&&(j(c.peakFocusTime.startHour||9),N(c.peakFocusTime.endHour||11),v(!0))},className:"text-sm font-medium text-green-600 hover:text-green-800 transition-colors hover:underline flex items-center gap-1",children:[(0,o.jsx)(l.WXf,{className:"text-xs"})," ",null!==c&&void 0!==c&&null!==(a=c.peakFocusTime)&&void 0!==a&&a.isCustom?"Change Time":"Set Your Time"," \u2192"]}),(0,o.jsx)("button",{onClick:()=>{try{"Notification"in window&&Notification.requestPermission().then(e=>{"granted"===e&&(C(!0),F(!0),setTimeout(()=>F(!1),3e3))})}catch(e){console.error("Failed to set reminder:",e)}},disabled:S,className:"text-sm font-medium transition-colors flex items-center gap-1 ".concat(S?"text-green-600 cursor-default":"text-green-600 hover:text-green-800 hover:underline"),children:S?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.YrT,{className:"text-xs"})," Reminder Set!"]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.zd,{className:"text-xs"})," Set Reminder \u2192"]})}),(0,o.jsxs)("button",{onClick:()=>p(!0),disabled:u.active,className:"text-sm font-medium transition-colors flex items-center gap-1 ".concat(u.active?"text-gray-400 cursor-not-allowed":"text-green-600 hover:text-green-800 hover:underline"),children:[(0,o.jsx)(l.aze,{className:"text-xs"})," ",u.active?"Timer Running":"Start Timer"," \u2192"]})]})]})]})}),g&&(0,o.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,o.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md mx-4 animate-scale-in",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,o.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Start Study Session"}),(0,o.jsx)("button",{onClick:()=>p(!1),className:"p-2 hover:bg-gray-100 rounded-full",children:(0,o.jsx)(l.yGN,{})})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Topic to Study"}),(0,o.jsx)("select",{value:w,onChange:e=>k(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:null===c||void 0===c?void 0:c.masteryByTopic.map((e,s)=>(0,o.jsxs)("option",{value:e.topic.toLowerCase().replace(/\s+/g,"-"),children:[e.topic," (",e.mastery,"% mastery)"]},s))})]}),(0,o.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2 text-blue-700",children:[(0,o.jsx)(l.FrA,{}),(0,o.jsxs)("span",{className:"text-sm font-medium",children:["Recommended: ",null===c||void 0===c?void 0:c.optimalDuration.value," session"]})]}),(0,o.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"Based on your learning patterns, shorter sessions with breaks work best for you."})]}),(0,o.jsxs)("div",{className:"flex gap-3",children:[(0,o.jsx)("button",{onClick:()=>p(!1),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,o.jsxs)("button",{onClick:async()=>{try{if(!w)return;await n.rh.startTimer(w,"dsa"),h({active:!0,topic:w,elapsedSeconds:0,startTime:new Date}),p(!1)}catch(t){var e,s;const r=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.error)||"Failed to start timer";alert(r)}},className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[(0,o.jsx)(l.aze,{})," Start Timer"]})]})]})}),b&&(0,o.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,o.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md mx-4 animate-scale-in",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,o.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Set Your Peak Focus Time"}),(0,o.jsx)("button",{onClick:()=>v(!1),className:"p-2 hover:bg-gray-100 rounded-full",children:(0,o.jsx)(l.yGN,{})})]}),(0,o.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Choose the time when you feel most focused and productive."}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Time"}),(0,o.jsx)("select",{value:f,onChange:e=>j(parseInt(e.target.value)),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:Array.from({length:24},(e,s)=>{const t=s%12||12,r=s<12?"AM":"PM";return(0,o.jsxs)("option",{value:s,children:[t,":00 ",r]},s)})})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Time"}),(0,o.jsx)("select",{value:y,onChange:e=>N(parseInt(e.target.value)),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:Array.from({length:24},(e,s)=>{const t=s%12||12,r=s<12?"AM":"PM";return(0,o.jsxs)("option",{value:s,children:[t,":00 ",r]},s)})})]})]}),(0,o.jsxs)("div",{className:"flex gap-3",children:[(0,o.jsx)("button",{onClick:()=>v(!1),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,o.jsxs)("button",{onClick:async()=>{if(y<=f)alert("End time must be after start time");else try{await n.rh.setFocusTime(f,y),v(!1),C(!1),await A()}catch(e){alert("Failed to save focus time")}},disabled:y<=f,className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[(0,o.jsx)(l.YrT,{})," Save Time"]})]})]})})]})},d=(0,r.memo)(()=>{const e=(0,a.Zp)(),s=(0,r.useCallback)(s=>()=>e(s),[e]);return(0,o.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,o.jsx)("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:(0,o.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-4 flex justify-between items-center",children:(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("img",{src:"/logo.svg",alt:"Learning Copilot",className:"w-10 h-10"}),(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Learning Copilot"})]})})}),(0,o.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,o.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 via-blue-700 to-purple-700 text-white rounded-2xl p-8 mb-8 shadow-xl relative overflow-hidden",children:[(0,o.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,o.jsx)("div",{className:"absolute -top-20 -right-20 w-60 h-60 bg-white/10 rounded-full blur-2xl"}),(0,o.jsx)("div",{className:"absolute -bottom-20 -left-20 w-60 h-60 bg-purple-500/20 rounded-full blur-2xl"})]}),(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("h2",{className:"text-3xl font-bold mb-2",children:"Welcome back! \ud83d\udc4b"}),(0,o.jsx)("p",{className:"text-blue-100 text-lg",children:"Continue your learning journey and master core CS and ECE concepts"})]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,o.jsxs)("div",{onClick:s("/courses"),className:"bg-white rounded-lg shadow p-6 cursor-pointer hover:shadow-lg transition-all group border-l-4 border-blue-500",children:[(0,o.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-3 group-hover:bg-blue-600 transition-colors",children:(0,o.jsx)(l.H9b,{className:"text-2xl text-blue-600 group-hover:text-white transition-colors"})}),(0,o.jsx)("h3",{className:"font-bold text-gray-900 mb-1",children:"Explore Courses"}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"Browse 35+ courses"})]}),(0,o.jsxs)("div",{onClick:s("/quiz"),className:"bg-white rounded-lg shadow p-6 cursor-pointer hover:shadow-lg transition-all group border-l-4 border-purple-500",children:[(0,o.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-3 group-hover:bg-purple-600 transition-colors",children:(0,o.jsx)(l.vQY,{className:"text-2xl text-purple-600 group-hover:text-white transition-colors"})}),(0,o.jsx)("h3",{className:"font-bold text-gray-900 mb-1",children:"Custom Quiz"}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"Test your knowledge"})]}),(0,o.jsxs)("div",{onClick:()=>{localStorage.removeItem("api_keys"),window.location.reload()},className:"bg-white rounded-lg shadow p-6 cursor-pointer hover:shadow-lg transition-all group border-l-4 border-gray-500",children:[(0,o.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center mb-3 group-hover:bg-gray-600 transition-colors",children:(0,o.jsx)(l.FrA,{className:"text-2xl text-gray-600 group-hover:text-white transition-colors"})}),(0,o.jsx)("h3",{className:"font-bold text-gray-900 mb-1",children:"API Settings"}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"Update API keys"})]})]}),(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[(0,o.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,o.jsx)(l.FrA,{className:"text-yellow-500"})," Your Personalized Insights"]}),(0,o.jsx)(c,{})]}),(0,o.jsxs)("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 rounded-lg border border-indigo-200 p-6",children:[(0,o.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"\ud83d\udca1 Learning Tips"}),(0,o.jsxs)("ul",{className:"space-y-2 text-sm text-gray-700",children:[(0,o.jsx)("li",{children:"\u2713 Study during your peak focus hours for better retention"}),(0,o.jsx)("li",{children:"\u2713 Use the timer to track focused study sessions"}),(0,o.jsx)("li",{children:"\u2713 Ask the AI tutor specific questions about topics"}),(0,o.jsx)("li",{children:"\u2713 Review weak topics regularly to improve mastery"})]})]})]})]})})}}]);