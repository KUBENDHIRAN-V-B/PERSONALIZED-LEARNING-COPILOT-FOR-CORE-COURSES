"use strict";(self.webpackChunklearning_copilot_frontend=self.webpackChunklearning_copilot_frontend||[]).push([[878],{2878(e,t,s){s.r(t),s.d(t,{default:()=>w});var r=s(9950),a=s(8429),l=s(9861),n=s(2932),i=s(2555);var o=s(4414);const c=e=>{const t=Math.floor(e/60),s=e%60;return"".concat(t,":").concat(s.toString().padStart(2,"0"))},d=e=>{let{totalTime:t,activeTime:s,focusScore:r,isActive:a}=e;return(0,o.jsx)("div",{className:"fixed bottom-6 right-6 bg-white rounded-lg shadow-lg p-3 border ".concat(a?"border-green-200":"border-gray-200"),children:(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(a?"bg-green-100":"bg-gray-100"),children:(0,o.jsx)(l.FrA,{className:"text-sm ".concat(a?"text-green-600":"text-gray-400")})}),(0,o.jsxs)("div",{className:"text-xs",children:[(0,o.jsx)("div",{className:"text-gray-600",children:c(s)}),(0,o.jsxs)("div",{className:"font-bold ".concat((n=r,n>=80?"text-green-600":n>=60?"text-yellow-600":"text-red-600")),children:[r,"%"]})]})]})});var n};var m=s(3986),x=s(5506),u=s(1449);const h=["className","children"],g=e=>{let{content:t}=e;const[s,a]=(0,r.useState)(!1),n=(e=>{const t=e.trim().split("\n").filter(e=>e.trim()),s=[];let r=1;for(const a of t){const e=a.trim();if(/^[\u2193\u2192\u2190\u2191\u25bc\u25b2\u25c4\u25ba|\u2500\u2502]+$/.test(e))s.push({text:"\u2193",isConnector:!0});else if(e){const t=e.replace(/^\d+\.\s*/,"");s.push({text:t,isConnector:!1,stepNumber:r++})}}return s})(t);return(0,o.jsxs)("div",{className:"my-6 rounded-2xl overflow-hidden bg-gradient-to-br from-indigo-900 via-purple-900 to-indigo-900 shadow-2xl border border-indigo-500/30",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between px-5 py-3 bg-black/20 border-b border-white/10",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-lg flex items-center justify-center shadow-lg",children:(0,o.jsx)(l.oUk,{className:"text-white",size:16})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-white font-semibold text-sm",children:"Learning Roadmap"}),(0,o.jsxs)("p",{className:"text-indigo-300 text-xs",children:[n.filter(e=>!e.isConnector).length," steps to master"]})]})]}),(0,o.jsx)("button",{onClick:async()=>{try{await navigator.clipboard.writeText(t),a(!0),setTimeout(()=>a(!1),2e3)}catch(e){console.error("Failed to copy:",e)}},className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all ".concat(s?"bg-green-500/30 text-green-300":"bg-white/10 hover:bg-white/20 text-white/80"),children:s?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.YrT,{size:12})," Copied"]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.nxz,{size:12})," Copy"]})})]}),(0,o.jsx)("div",{className:"p-6",children:(0,o.jsx)("div",{className:"flex flex-col items-center gap-0",children:n.map((e,t)=>e.isConnector?(0,o.jsxs)("div",{className:"flex flex-col items-center py-1",children:[(0,o.jsx)("div",{className:"w-0.5 h-4 bg-gradient-to-b from-cyan-400 to-blue-500"}),(0,o.jsx)(l.fK4,{className:"text-cyan-400 -my-1",size:20}),(0,o.jsx)("div",{className:"w-0.5 h-4 bg-gradient-to-b from-blue-500 to-purple-500"})]},t):(0,o.jsx)("div",{className:"w-full max-w-lg",children:(0,o.jsxs)("div",{className:"relative bg-white/10 backdrop-blur-sm rounded-xl px-5 py-4 border border-white/20 hover:border-cyan-400/50 hover:bg-white/15 transition-all shadow-lg",children:[(0,o.jsx)("div",{className:"absolute -left-3 top-1/2 -translate-y-1/2 w-7 h-7 bg-gradient-to-br from-cyan-400 to-blue-600 rounded-full flex items-center justify-center text-white text-xs font-bold shadow-lg border-2 border-indigo-900",children:e.stepNumber}),(0,o.jsx)("p",{className:"text-white font-medium pl-4",children:e.text})]})},t))})})]})},p=e=>{let{children:t,language:s="code"}=e;const a=(0,r.useRef)(null),[n,i]=(0,r.useState)(!1),c={javascript:"from-yellow-500 to-yellow-600",js:"from-yellow-500 to-yellow-600",typescript:"from-blue-500 to-blue-600",ts:"from-blue-500 to-blue-600",python:"from-green-500 to-blue-500",py:"from-green-500 to-blue-500",java:"from-red-500 to-orange-500",cpp:"from-blue-600 to-purple-600",c:"from-blue-500 to-gray-600",html:"from-orange-500 to-red-500",css:"from-blue-400 to-purple-500",sql:"from-orange-400 to-yellow-500",json:"from-gray-500 to-gray-600",bash:"from-green-600 to-green-700",shell:"from-green-600 to-green-700",code:"from-slate-500 to-slate-600"},d=c[s.toLowerCase()]||c.code;return(0,o.jsxs)("div",{className:"my-5 rounded-xl overflow-hidden shadow-xl border border-gray-700/50 bg-gray-900",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between px-4 py-2.5 bg-gray-800 border-b border-gray-700",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsxs)("div",{className:"flex gap-1.5",children:[(0,o.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,o.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),(0,o.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),(0,o.jsx)("div",{className:"px-2.5 py-0.5 rounded-md bg-gradient-to-r ".concat(d," text-white text-xs font-semibold uppercase tracking-wider"),children:s})]}),(0,o.jsx)("button",{onClick:async()=>{var e;const t=(null===(e=a.current)||void 0===e?void 0:e.textContent)||"";try{await navigator.clipboard.writeText(t),i(!0),setTimeout(()=>i(!1),2e3)}catch(s){console.error("Failed to copy:",s)}},className:"flex items-center gap-1.5 px-3 py-1 rounded-md text-xs font-medium transition-all ".concat(n?"bg-green-500/20 text-green-400":"bg-gray-700 hover:bg-gray-600 text-gray-300"),children:n?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.YrT,{size:12})," Copied!"]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.nxz,{size:12})," Copy"]})})]}),(0,o.jsx)("div",{className:"p-4 overflow-x-auto bg-[#1a1b26]",children:(0,o.jsx)("pre",{ref:a,className:"m-0",children:(0,o.jsx)("code",{className:"text-sm text-gray-100 font-mono leading-relaxed block",children:t})})})]})},f=e=>{let{children:t,index:s}=e;return(0,o.jsxs)("li",{className:"flex items-start gap-4 py-2 group",children:[(0,o.jsx)("span",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 text-white rounded-lg flex items-center justify-center text-sm font-bold shadow-md group-hover:scale-110 transition-transform",children:s}),(0,o.jsx)("div",{className:"flex-1 pt-1 text-gray-700 leading-relaxed",children:t})]})},b=e=>{let{children:t}=e;return(0,o.jsxs)("li",{className:"flex items-start gap-3 py-1.5",children:[(0,o.jsx)("span",{className:"flex-shrink-0 w-2 h-2 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full mt-2"}),(0,o.jsx)("div",{className:"flex-1 text-gray-700 leading-relaxed",children:t})]})},y=e=>{let{content:t}=e;const[s,a]=(0,r.useState)(!1);let n=0;return(0,o.jsx)("div",{className:"flex justify-start w-full",children:(0,o.jsxs)("div",{className:"flex gap-4 max-w-[95%] w-full",children:[(0,o.jsx)("div",{className:"flex-shrink-0",children:(0,o.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-violet-500 via-purple-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg shadow-purple-500/30",children:(0,o.jsx)(l.Ojn,{className:"text-white",size:20})})}),(0,o.jsx)("div",{className:"flex-1 min-w-0 relative group",children:(0,o.jsxs)("div",{className:"bg-white rounded-2xl rounded-tl-md shadow-xl border border-gray-200 overflow-hidden",children:[(0,o.jsx)("div",{className:"h-1.5 bg-gradient-to-r from-violet-500 via-purple-500 to-pink-500"}),(0,o.jsx)("div",{className:"absolute right-4 top-6 opacity-0 group-hover:opacity-100 transition-all z-20",children:(0,o.jsx)("button",{onClick:async()=>{try{await navigator.clipboard.writeText(t),a(!0),setTimeout(()=>a(!1),2e3)}catch(e){console.error("Failed to copy:",e)}},className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium shadow-lg transition-all ".concat(s?"bg-green-500 text-white":"bg-gray-800 hover:bg-gray-700 text-white"),title:"Copy entire response",children:s?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.YrT,{size:12})," Copied!"]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.nxz,{size:12})," Copy All"]})})}),(0,o.jsx)("div",{className:"px-6 py-5",children:(0,o.jsx)(x.$,{remarkPlugins:[u.A],components:{h1:e=>{let{children:t}=e;return(0,o.jsxs)("div",{className:"mt-6 mb-4 first:mt-0",children:[(0,o.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[(0,o.jsx)("span",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,o.jsx)(l.D1A,{className:"text-white",size:18})}),t]}),(0,o.jsx)("div",{className:"h-1 w-24 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full mt-3"})]})},h2:e=>{let{children:t}=e;return(0,o.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mt-8 mb-4 first:mt-0 flex items-center gap-3 bg-gradient-to-r from-blue-50 via-indigo-50 to-transparent px-4 py-3 rounded-xl border-l-4 border-blue-500",children:[(0,o.jsx)("span",{className:"text-blue-500",children:"\u25b8"}),t]})},h3:e=>{let{children:t}=e;return(0,o.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mt-6 mb-3 flex items-center gap-2",children:[(0,o.jsx)("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),t]})},h4:e=>{let{children:t}=e;return(0,o.jsx)("h4",{className:"text-base font-semibold text-gray-700 mt-4 mb-2 pl-4 border-l-2 border-gray-300",children:t})},p:e=>{let{children:t}=e;return(0,o.jsx)("p",{className:"text-gray-700 my-4 leading-7 text-[15px]",children:t})},strong:e=>{let{children:t}=e;return(0,o.jsx)("strong",{className:"font-bold text-gray-900 bg-gradient-to-r from-yellow-100 to-amber-100 px-1.5 py-0.5 rounded-md",children:t})},em:e=>{let{children:t}=e;return(0,o.jsx)("em",{className:"italic text-gray-800",children:t})},pre:e=>{var t;let{children:s}=e;const a=e=>{var t;return"string"===typeof e?e:null!==e&&void 0!==e&&null!==(t=e.props)&&void 0!==t&&t.children?Array.isArray(e.props.children)?e.props.children.map(a).join(""):a(e.props.children):""},l=a(s),n=r.Children.toArray(s)[0],i=(e=>{var t;return null!==e&&void 0!==e&&null!==(t=e.props)&&void 0!==t&&t.className?(e=>{if(!e)return"code";const t=e.match(/language-(\w+)/);return t?t[1]:"code"})(e.props.className):"code"})(n);return(e=>{const t=/[\u2193\u2192\u2190\u2191\u25bc\u25b2\u25c4\u25ba|]/.test(e),s=/[\u250c\u2510\u2514\u2518\u2502\u2500\u252c\u2534\u251c\u2524\u253c\u2554\u2557\u255a\u255d\u2551\u2550[\]]/.test(e),r=e.split("\n").filter(e=>/^[\s]*[\u2193\u2192\u2190\u2191\u25bc\u25b2\u25c4\u25ba|]+[\s]*$/.test(e)).length,a=/\b(function|const|let|var|import|export|class|def|return|if\s*\(|else|for\s*\(|while\s*\(|=>|console\.|print\()\b/.test(e);return(t&&r>=2||s)&&!a})(l)?(0,o.jsx)(g,{content:l}):(0,o.jsx)(p,{language:i,children:(null===n||void 0===n||null===(t=n.props)||void 0===t?void 0:t.children)||s})},code:e=>{let{className:t,children:s}=e,r=(0,m.A)(e,h);return!t?(0,o.jsx)("code",(0,i.A)((0,i.A)({className:"bg-gradient-to-r from-gray-100 to-gray-200 text-indigo-700 px-2 py-1 rounded-md text-sm font-mono font-medium border border-gray-300"},r),{},{children:s})):(0,o.jsx)("code",(0,i.A)((0,i.A)({className:"".concat(t||""," text-sm")},r),{},{children:s}))},table:e=>{let{children:t}=e;return(0,o.jsx)("div",{className:"my-6 rounded-xl overflow-hidden border border-gray-200 shadow-lg",children:(0,o.jsx)("table",{className:"min-w-full divide-y divide-gray-200",children:t})})},thead:e=>{let{children:t}=e;return(0,o.jsx)("thead",{className:"bg-gradient-to-r from-indigo-600 to-purple-600",children:t})},tbody:e=>{let{children:t}=e;return(0,o.jsx)("tbody",{className:"bg-white divide-y divide-gray-100",children:t})},tr:e=>{let{children:t}=e;return(0,o.jsx)("tr",{className:"hover:bg-indigo-50 transition-colors",children:t})},th:e=>{let{children:t}=e;return(0,o.jsx)("th",{className:"px-5 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:t})},td:e=>{let{children:t}=e;return(0,o.jsx)("td",{className:"px-5 py-4 text-sm text-gray-700",children:t})},ul:e=>{let{children:t}=e;return(0,o.jsx)("ul",{className:"my-4 space-y-1 pl-1",children:t})},ol:e=>{let{children:t}=e;return n=0,(0,o.jsx)("ol",{className:"my-4 space-y-2 pl-1",children:t})},li:e=>{let{children:t,ordered:s}=e;return s?(n++,(0,o.jsx)(f,{index:n,children:t})):(0,o.jsx)(b,{children:t})},blockquote:e=>{let{children:t}=e;return(0,o.jsxs)("blockquote",{className:"my-6 relative",children:[(0,o.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-amber-400 to-orange-500 rounded-full"}),(0,o.jsx)("div",{className:"pl-6 pr-4 py-4 bg-gradient-to-r from-amber-50 via-yellow-50 to-transparent rounded-r-xl",children:(0,o.jsxs)("div",{className:"flex items-start gap-3",children:[(0,o.jsx)("span",{className:"text-2xl",children:"\ud83d\udca1"}),(0,o.jsx)("div",{className:"text-gray-700 flex-1 italic",children:t})]})})]})},hr:()=>(0,o.jsxs)("div",{className:"my-8 flex items-center gap-4",children:[(0,o.jsx)("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-gray-300 to-transparent"}),(0,o.jsxs)("div",{className:"flex gap-1",children:[(0,o.jsx)("span",{className:"w-2 h-2 bg-purple-400 rounded-full"}),(0,o.jsx)("span",{className:"w-2 h-2 bg-indigo-400 rounded-full"}),(0,o.jsx)("span",{className:"w-2 h-2 bg-blue-400 rounded-full"})]}),(0,o.jsx)("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-gray-300 to-transparent"})]}),a:e=>{let{href:t,children:s}=e;return(0,o.jsxs)("a",{href:t,className:"inline-flex items-center gap-1 text-indigo-600 hover:text-indigo-800 font-medium underline decoration-indigo-300 hover:decoration-indigo-500 underline-offset-2 transition-all",target:"_blank",rel:"noopener noreferrer",children:[s,(0,o.jsx)("span",{className:"text-xs opacity-70",children:"\u2197"})]})},img:e=>{let{src:t,alt:s}=e;return(0,o.jsxs)("div",{className:"my-4 rounded-xl overflow-hidden shadow-lg border border-gray-200",children:[(0,o.jsx)("img",{src:t,alt:s,className:"w-full h-auto"}),s&&(0,o.jsx)("p",{className:"text-center text-sm text-gray-500 py-2 bg-gray-50",children:s})]})}},children:t})})]})})]})})},j=()=>{const[e,t]=(0,r.useState)([]),[s,a]=(0,r.useState)(!1),[n,i]=(0,r.useState)(null),c=(0,r.useCallback)(()=>{const e=localStorage.getItem("api_keys");if(e)try{const s=JSON.parse(e);t(s),i(new Date)}catch(s){console.error("Error loading API keys:",s),t([])}else t([])},[]);(0,r.useEffect)(()=>{c();const e=setInterval(c,3e4);return()=>clearInterval(e)},[c]);const d=e=>e?"bg-green-500":"bg-gray-400",m=e=>e?"Ready":"No Key",x=e.filter(e=>e.key.trim()).length,u=e.length||0;return(0,o.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:[(0,o.jsxs)("button",{onClick:()=>a(!s),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("div",{className:"p-2 rounded-lg ".concat(x>0?"bg-green-100":"bg-gray-100"),children:x>0?(0,o.jsx)(l.tMZ,{className:"text-green-600",size:18}):(0,o.jsx)(l.S$_,{className:"text-gray-600",size:18})}),(0,o.jsxs)("div",{className:"text-left",children:[(0,o.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"AI Services Status"}),(0,o.jsxs)("div",{className:"text-xs text-gray-500",children:[x,"/",u," APIs configured"]})]})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("div",{className:"flex gap-1",children:e.map((e,t)=>(0,o.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(d(!!e.key.trim())),title:"".concat(e.name,": ").concat(m(!!e.key.trim()))},t))}),s?(0,o.jsx)(l.wAb,{size:18}):(0,o.jsx)(l.fK4,{size:18})]})]}),s&&(0,o.jsxs)("div",{className:"border-t border-gray-100 px-4 py-3 bg-gray-50",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,o.jsxs)("span",{className:"text-xs text-gray-500",children:["Last updated: ",(null===n||void 0===n?void 0:n.toLocaleTimeString())||"Never"]}),(0,o.jsxs)("button",{onClick:c,className:"flex items-center gap-1 text-xs text-blue-600 hover:text-blue-800",children:[(0,o.jsx)(l.jTZ,{size:12}),"Refresh"]})]}),e.length>0?(0,o.jsx)("div",{className:"space-y-2",children:e.map(e=>(0,o.jsxs)("div",{className:"flex items-center justify-between p-2 bg-white rounded-lg border border-gray-100",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("div",{className:"w-2.5 h-2.5 rounded-full ".concat(d(!!e.key.trim()))}),(0,o.jsx)("span",{className:"text-sm font-medium text-gray-800",children:e.name})]}),(0,o.jsxs)("div",{className:"flex items-center gap-3 text-xs",children:[(0,o.jsx)("span",{className:"px-2 py-0.5 rounded-full ".concat(e.key.trim()?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),children:m(!!e.key.trim())}),(0,o.jsx)("span",{className:"text-gray-500",children:e.key.trim()?"Configured":"Missing"})]})]},e.id))}):(0,o.jsx)("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No API keys configured. Add keys in API Settings."}),(0,o.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200 flex justify-center gap-4 text-xs text-gray-500",children:[(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[(0,o.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500"}),(0,o.jsx)("span",{children:"Ready"})]}),(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[(0,o.jsx)("div",{className:"w-2 h-2 rounded-full bg-gray-400"}),(0,o.jsx)("span",{children:"No Key"})]})]})]})]})},v=e=>{let{onFocusModeChange:t}=e;const[s,a]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),[c,d]=(0,r.useState)(0),[m,x]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e;return s&&(e=setInterval(()=>{d(e=>e+1)},1e3)),()=>clearInterval(e)},[s]);const g=(0,r.useCallback)(async()=>{try{document.fullscreenElement?(await document.exitFullscreen(),i(!1)):(await document.documentElement.requestFullscreen(),i(!0))}catch(e){console.error("Fullscreen error:",e)}},[]);(0,r.useEffect)(()=>{const e=()=>{i(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)},[]);const p=(0,r.useCallback)(()=>{if(a(!0),d(0),null===t||void 0===t||t(!0),document.fullscreenElement||document.documentElement.requestFullscreen().catch(()=>{}),u){const e=new Audio("data:audio/wav;base64,UklGRl9vT19teleXBhdmVmbXQgEAAAAAQAABAAgIAABAAgAAAAAAAA");e.volume=.3,e.play().catch(()=>{})}"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission()},[u,t]),f=(0,r.useCallback)(()=>{a(!1),null===t||void 0===t||t(!1),document.fullscreenElement&&document.exitFullscreen().catch(()=>{})},[t]),b=e=>{const t=Math.floor(e/3600),s=Math.floor(e%3600/60),r=e%60;return t>0?"".concat(t,":").concat(s.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0")):"".concat(s,":").concat(r.toString().padStart(2,"0"))};return s?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"fixed inset-0 bg-black/5 pointer-events-none z-40"}),(0,o.jsxs)("div",{className:"fixed top-4 right-4 z-50 flex items-center gap-2",children:[(0,o.jsxs)("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-4 py-2 rounded-full shadow-lg flex items-center gap-2 animate-pulse",children:[(0,o.jsx)(l.x_j,{className:"text-lg"}),(0,o.jsx)("span",{className:"font-mono font-bold",children:b(c)}),(0,o.jsx)("span",{className:"text-xs opacity-80",children:"Focus Time"})]}),(0,o.jsx)("button",{onClick:g,className:"bg-white/90 backdrop-blur-sm p-2 rounded-full shadow-lg hover:bg-white transition-all",title:n?"Exit Fullscreen":"Enter Fullscreen",children:n?(0,o.jsx)(l.SE2,{className:"text-gray-700"}):(0,o.jsx)(l.KFS,{className:"text-gray-700"})}),(0,o.jsx)("button",{onClick:()=>h(!u),className:"bg-white/90 backdrop-blur-sm p-2 rounded-full shadow-lg hover:bg-white transition-all",title:u?"Mute Sounds":"Enable Sounds",children:u?(0,o.jsx)(l.o77,{className:"text-gray-700"}):(0,o.jsx)(l.cKW,{className:"text-gray-700"})}),(0,o.jsxs)("button",{onClick:f,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-full shadow-lg flex items-center gap-2 transition-all",children:[(0,o.jsx)(l.yGN,{}),(0,o.jsx)("span",{className:"text-sm font-medium",children:"Exit Focus"})]})]}),(0,o.jsx)("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 z-50",children:(0,o.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm px-4 py-2 rounded-full shadow-lg text-sm text-gray-600 flex items-center gap-2",children:[(0,o.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-ping"}),(0,o.jsx)("span",{children:"Focus Mode Active \u2022 Stay concentrated!"})]})})]}):(0,o.jsx)("div",{className:"fixed top-4 right-4 z-50",children:(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsxs)("button",{onClick:p,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),className:"group bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white px-4 py-2.5 rounded-full shadow-lg flex items-center gap-2 transition-all transform hover:scale-105",children:[(0,o.jsx)(l.FrA,{className:"text-lg group-hover:animate-pulse"}),(0,o.jsx)("span",{className:"font-medium",children:"Focus Mode"})]}),m&&(0,o.jsxs)("div",{className:"absolute top-full right-0 mt-2 bg-white rounded-xl shadow-xl p-4 w-64 animate-fade-in",children:[(0,o.jsxs)("h3",{className:"font-bold text-gray-900 mb-2 flex items-center gap-2",children:[(0,o.jsx)(l.FrA,{className:"text-purple-600"}),"Distraction Stop"]}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Activate to enter a distraction-free learning environment:"}),(0,o.jsxs)("ul",{className:"text-xs text-gray-500 space-y-1.5",children:[(0,o.jsxs)("li",{className:"flex items-center gap-2",children:[(0,o.jsx)(l.KFS,{className:"text-blue-500"})," Full-screen immersion"]}),(0,o.jsxs)("li",{className:"flex items-center gap-2",children:[(0,o.jsx)(l.hkc,{className:"text-purple-500"})," Reduced visual clutter"]}),(0,o.jsxs)("li",{className:"flex items-center gap-2",children:[(0,o.jsx)(l.Ohp,{className:"text-green-500"})," Focus time tracking"]}),(0,o.jsxs)("li",{className:"flex items-center gap-2",children:[(0,o.jsx)(l.x_j,{className:"text-orange-500"})," Distraction blocking"]})]}),(0,o.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:(0,o.jsxs)("p",{className:"text-xs text-gray-400",children:["Press ",(0,o.jsx)("kbd",{className:"bg-gray-100 px-1 rounded",children:"Esc"})," to exit focus mode"]})})]})]})})},N=()=>(0,o.jsxs)("div",{className:"flex items-center gap-1 p-3",children:[(0,o.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,o.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,o.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),w=(0,r.memo)(()=>{const{courseId:e}=(0,a.g)(),t=(0,a.Zp)(),[s,c]=(0,r.useState)([]),[m,x]=(0,r.useState)(""),[u,h]=(0,r.useState)(!1),[g,p]=(0,r.useState)(void 0),[f,b]=(0,r.useState)(!1),w=(()=>{const[e,t]=(0,r.useState)({totalTime:0,activeTime:0,focusScore:0,isActive:!0}),s=(0,r.useRef)(),a=(0,r.useRef)(Date.now()),l=(0,r.useRef)(!0),n=(0,r.useCallback)((e,s)=>{const r=s>0?Math.round(e/s*100):0;t(e=>(0,i.A)((0,i.A)({},e),{},{focusScore:Math.min(r,100)}))},[]);(0,r.useEffect)(()=>{const e=()=>{a.current=Date.now(),t(e=>(0,i.A)((0,i.A)({},e),{},{isActive:!0}))},r=()=>{l.current=!document.hidden,document.hidden||(a.current=Date.now())};return document.addEventListener("mousemove",e),document.addEventListener("keydown",e),document.addEventListener("visibilitychange",r),s.current=setInterval(()=>{t(e=>{const t=e.totalTime+1,s=Date.now()-a.current,r=l.current&&s<5e3,o=r?e.activeTime+1:e.activeTime;return n(o,t),(0,i.A)((0,i.A)({},e),{},{totalTime:t,activeTime:o,isActive:r})})},1e3),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("keydown",e),document.removeEventListener("visibilitychange",r),s.current&&clearInterval(s.current)}},[n]);const o=(0,r.useCallback)(()=>{t({totalTime:0,activeTime:0,focusScore:0,isActive:!0}),a.current=Date.now()},[]);return(0,i.A)((0,i.A)({},e),{},{reset:o})})(),k=(0,r.useRef)(null),A=(0,r.useRef)(null),S=(0,r.useCallback)(()=>{var e;null===(e=k.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[]);(0,r.useEffect)(()=>{S()},[s,S]),(0,r.useEffect)(()=>{var e;null===(e=A.current)||void 0===e||e.focus()},[]);const C=(0,r.useCallback)(async t=>{t.preventDefault();const s=m.trim();if(s&&!u){h(!0),x("");try{const t=await n.h2.sendMessage(e||"dsa",s,g);!g&&t.data.conversationId&&p(t.data.conversationId);const r={id:"msg_".concat(Date.now()),userMessage:s,aiResponse:t.data.aiResponse,timestamp:new Date};c(e=>[...e,r])}catch(a){console.error("Failed to send message:",a),c(e=>[...e,{id:"error_".concat(Date.now()),userMessage:s,aiResponse:"Sorry, I encountered an error. Please try again.",timestamp:new Date}])}finally{var r;h(!1),null===(r=A.current)||void 0===r||r.focus()}}},[m,u,e,g]),E=(0,r.useCallback)(e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),C(e))},[C]),T=(0,r.useCallback)(()=>t("/dashboard"),[t]),F=(null===e||void 0===e?void 0:e.toUpperCase())||"Learning";return(0,o.jsxs)("div",{className:"h-screen flex flex-col transition-all duration-300 ".concat(f?"bg-gray-100":"bg-gray-50"),children:[(0,o.jsx)(v,{onFocusModeChange:b}),(0,o.jsx)("header",{className:"bg-white shadow-sm flex-shrink-0 transition-all duration-300 ".concat(f?"opacity-70 hover:opacity-100":""),children:(0,o.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-3 flex items-center justify-between",children:(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsxs)("button",{onClick:T,className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 transition-colors",children:[(0,o.jsx)(l.kRp,{size:20})," Back"]}),(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:(0,o.jsx)(l.Ojn,{className:"text-white"})}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("h1",{className:"text-lg font-bold text-gray-900",children:[F," Assistant"]}),(0,o.jsx)("p",{className:"text-xs text-gray-500",children:"AI-powered learning companion"})]})]})]})})}),(0,o.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,o.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[(0,o.jsx)("div",{className:"mb-4",children:(0,o.jsx)(j,{})}),(0,o.jsxs)("div",{className:"space-y-6",children:[0===s.length?(0,o.jsxs)("div",{className:"flex flex-col items-center justify-center h-full min-h-[400px] text-center animate-fade-in",children:[(0,o.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-purple-100 rounded-2xl flex items-center justify-center mb-6",children:(0,o.jsx)(l.Ojn,{className:"text-4xl text-blue-600"})}),(0,o.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:["Start Learning ",F,"!"]}),(0,o.jsxs)("p",{className:"text-gray-600 max-w-md mb-8",children:["Ask any question about ",F," and I'll help you understand it with personalized explanations."]}),(0,o.jsx)("div",{className:"flex flex-wrap gap-2 justify-center max-w-lg",children:["What is ".concat(F,"?"),"Explain with examples","Best practices","Common mistakes"].map((e,t)=>(0,o.jsx)("button",{onClick:()=>x(e),className:"px-4 py-2 bg-white border border-gray-200 rounded-full text-sm text-gray-700 hover:bg-blue-50 hover:border-blue-300 hover:text-blue-600 transition-all",children:e},t))})]}):s.map((e,t)=>(0,o.jsxs)("div",{className:"space-y-4 animate-fade-in",style:{animationDelay:"".concat(50*t,"ms")},children:[(0,o.jsx)("div",{className:"flex justify-end",children:(0,o.jsx)("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 text-white rounded-2xl rounded-br-md px-4 py-3 max-w-[80%] shadow-sm",children:e.userMessage})}),(0,o.jsx)(y,{content:e.aiResponse})]},e.id)),u&&(0,o.jsx)("div",{className:"flex justify-start animate-fade-in",children:(0,o.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,o.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-100 to-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,o.jsx)(l.Ojn,{className:"text-purple-600",size:16})}),(0,o.jsx)("div",{className:"bg-white border border-gray-100 rounded-2xl px-4 py-2 shadow-sm",children:(0,o.jsx)(N,{})})]})}),(0,o.jsx)("div",{ref:k})]})]})}),(0,o.jsx)("div",{className:"bg-white border-t border-gray-200 flex-shrink-0",children:(0,o.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:(0,o.jsxs)("form",{onSubmit:C,className:"flex gap-3",children:[(0,o.jsx)("input",{ref:A,type:"text",value:m,onChange:e=>x(e.target.value),onKeyDown:E,placeholder:"Ask a question...",className:"flex-1 px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",disabled:u}),(0,o.jsxs)("button",{type:"submit",disabled:u||!m.trim(),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 font-medium shadow-sm",children:[u?(0,o.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):(0,o.jsx)(l.kGk,{}),"Send"]})]})})}),(0,o.jsx)(d,{totalTime:w.totalTime,activeTime:w.activeTime,focusScore:w.focusScore,isActive:w.isActive})]})})},2932(e,t,s){s.d(t,{BP:()=>i,h2:()=>n,rh:()=>o});const r=s(6910).A.create({baseURL:"http://localhost:5000",timeout:15e3,headers:{"Content-Type":"application/json"}});r.interceptors.response.use(e=>e,e=>{try{if(e instanceof Error&&"response"in e){var t;401===(null===(t=e.response)||void 0===t?void 0:t.status)&&console.error("Unauthorized access")}}catch(s){console.error("Error in response interceptor:",s)}return Promise.reject(e)});const a=new Map,l=async(e,t)=>{const s="".concat(e,":").concat(JSON.stringify((null===t||void 0===t?void 0:t.params)||{})),l=a.get(s),n=Date.now();if(l&&n-l.timestamp<3e4)return l.data;try{const l=await r.get(e,t);if(a.size>=50){const e=a.keys().next().value;e&&a.delete(e)}return a.set(s,{data:l.data,timestamp:n}),l.data}catch(i){throw console.error("Failed to fetch ".concat(e,":"),i),i}},n={sendMessage:(e,t,s)=>{if(!e||!t)throw new Error("Course ID and message are required");const a=localStorage.getItem("api_keys");let l={};if(a)try{l=JSON.parse(a).reduce((e,t)=>(e[t.name.toLowerCase()]=t.key,e),{})}catch(n){console.error("Error parsing API keys:",n)}return r.post("/api/chat/message",{courseId:e,message:t,conversationId:s,apiKeys:l})},getHistory:e=>{if(!e)throw new Error("Conversation ID is required");return r.get("/api/chat/history/".concat(e))}},i={getAll:()=>l("/api/courses"),getById:e=>{if(!e)throw new Error("Course ID is required");return l("/api/courses/".concat(e))},enroll:e=>{if(!e)throw new Error("Course ID is required");return r.post("/api/courses/".concat(e,"/enroll"))}},o={getDashboard:()=>l("/api/analytics/dashboard"),getExamReadiness:e=>{if(!e)throw new Error("Course ID is required");return l("/api/analytics/exam-readiness/".concat(e))},logSession:e=>{if(!e)throw new Error("Session data is required");return r.post("/api/analytics/session",e)},getInsights:()=>r.get("/api/analytics/insights"),startTimer:(e,t)=>{if(!e||!t)throw new Error("Topic and course ID are required");return r.post("/api/analytics/timer/start",{topic:e,courseId:t})},stopTimer:(e,t)=>r.post("/api/analytics/timer/stop",{accuracy:e,focusScore:t}),getTimerStatus:()=>r.get("/api/analytics/timer/status"),updateMastery:(e,t,s)=>{if(!e||void 0===t)throw new Error("Topic and score are required");return r.post("/api/analytics/mastery/update",{topic:e,score:t,timeSpent:s})},setFocusTime:(e,t)=>r.post("/api/analytics/preferences/focus-time",{startHour:e,endHour:t}),clearFocusTime:()=>r.delete("/api/analytics/preferences/focus-time"),setMasteryGoal:(e,t)=>{if(!e||void 0===t)throw new Error("Topic and goal are required");return r.post("/api/analytics/preferences/mastery-goal",{topic:e,goal:t})}}}}]);