{"ast":null,"code":"import _objectSpread from\"c:/Users/kuben/OneDrive/Desktop/PERSONALIZED LEARNING COPILOT FOR CORE COURSES/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"c:/Users/kuben/OneDrive/Desktop/PERSONALIZED LEARNING COPILOT FOR CORE COURSES/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";const _excluded=[\"className\",\"children\"];import React,{useRef,useState}from'react';import{FiCpu,FiCopy,FiCheck,FiChevronDown,FiBookOpen,FiMap}from'react-icons/fi';import ReactMarkdown from'react-markdown';import remarkGfm from'remark-gfm';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";// ============================================\n// UTILITY FUNCTIONS\n// ============================================\n// Detect if content is a flowchart/diagram\nconst isFlowchartContent=text=>{const hasArrows=/[↓→←↑▼▲◄►|]/.test(text);const hasBoxChars=/[┌┐└┘│─┬┴├┤┼╔╗╚╝║═[\\]]/.test(text);const linesWithArrows=text.split('\\n').filter(l=>/^[\\s]*[↓→←↑▼▲◄►|]+[\\s]*$/.test(l)).length;const hasCodeSyntax=/\\b(function|const|let|var|import|export|class|def|return|if\\s*\\(|else|for\\s*\\(|while\\s*\\(|=>|console\\.|print\\()\\b/.test(text);return(hasArrows&&linesWithArrows>=2||hasBoxChars)&&!hasCodeSyntax;};// Extract language from className\nconst getLanguageFromClass=className=>{if(!className)return'code';const match=className.match(/language-(\\w+)/);return match?match[1]:'code';};// ============================================\n// FLOWCHART COMPONENT - Beautiful Learning Roadmap\n// ============================================\nconst FlowchartBlock=_ref=>{let{content}=_ref;const[copied,setCopied]=useState(false);const handleCopy=async()=>{try{await navigator.clipboard.writeText(content);setCopied(true);setTimeout(()=>setCopied(false),2000);}catch(err){console.error('Failed to copy:',err);}};// Parse flowchart into steps\nconst parseSteps=text=>{const lines=text.trim().split('\\n').filter(l=>l.trim());const steps=[];let stepNum=1;for(const line of lines){const trimmed=line.trim();if(/^[↓→←↑▼▲◄►|─│]+$/.test(trimmed)){steps.push({text:'↓',isConnector:true});}else if(trimmed){const cleanText=trimmed.replace(/^\\d+\\.\\s*/,'');steps.push({text:cleanText,isConnector:false,stepNumber:stepNum++});}}return steps;};const steps=parseSteps(content);return/*#__PURE__*/_jsxs(\"div\",{className:\"my-6 rounded-2xl overflow-hidden bg-gradient-to-br from-indigo-900 via-purple-900 to-indigo-900 shadow-2xl border border-indigo-500/30\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between px-5 py-3 bg-black/20 border-b border-white/10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-lg flex items-center justify-center shadow-lg\",children:/*#__PURE__*/_jsx(FiMap,{className:\"text-white\",size:16})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-semibold text-sm\",children:\"Learning Roadmap\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-indigo-300 text-xs\",children:[steps.filter(s=>!s.isConnector).length,\" steps to master\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCopy,className:\"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all \".concat(copied?'bg-green-500/30 text-green-300':'bg-white/10 hover:bg-white/20 text-white/80'),children:copied?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FiCheck,{size:12}),\" Copied\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FiCopy,{size:12}),\" Copy\"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center gap-0\",children:steps.map((step,index)=>step.isConnector?/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center py-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-0.5 h-4 bg-gradient-to-b from-cyan-400 to-blue-500\"}),/*#__PURE__*/_jsx(FiChevronDown,{className:\"text-cyan-400 -my-1\",size:20}),/*#__PURE__*/_jsx(\"div\",{className:\"w-0.5 h-4 bg-gradient-to-b from-blue-500 to-purple-500\"})]},index):/*#__PURE__*/_jsx(\"div\",{className:\"w-full max-w-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-white/10 backdrop-blur-sm rounded-xl px-5 py-4 border border-white/20 hover:border-cyan-400/50 hover:bg-white/15 transition-all shadow-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute -left-3 top-1/2 -translate-y-1/2 w-7 h-7 bg-gradient-to-br from-cyan-400 to-blue-600 rounded-full flex items-center justify-center text-white text-xs font-bold shadow-lg border-2 border-indigo-900\",children:step.stepNumber}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white font-medium pl-4\",children:step.text})]})},index))})})]});};// ============================================\n// CODE BLOCK COMPONENT - Language-aware with syntax highlighting colors\n// ============================================\nconst CodeBlock=_ref2=>{let{children,language='code'}=_ref2;const codeRef=useRef(null);const[copied,setCopied]=useState(false);const handleCopy=async()=>{var _codeRef$current;const text=((_codeRef$current=codeRef.current)===null||_codeRef$current===void 0?void 0:_codeRef$current.textContent)||'';try{await navigator.clipboard.writeText(text);setCopied(true);setTimeout(()=>setCopied(false),2000);}catch(err){console.error('Failed to copy:',err);}};const langColors={javascript:'from-yellow-500 to-yellow-600',js:'from-yellow-500 to-yellow-600',typescript:'from-blue-500 to-blue-600',ts:'from-blue-500 to-blue-600',python:'from-green-500 to-blue-500',py:'from-green-500 to-blue-500',java:'from-red-500 to-orange-500',cpp:'from-blue-600 to-purple-600',c:'from-blue-500 to-gray-600',html:'from-orange-500 to-red-500',css:'from-blue-400 to-purple-500',sql:'from-orange-400 to-yellow-500',json:'from-gray-500 to-gray-600',bash:'from-green-600 to-green-700',shell:'from-green-600 to-green-700',code:'from-slate-500 to-slate-600'};const gradientClass=langColors[language.toLowerCase()]||langColors.code;return/*#__PURE__*/_jsxs(\"div\",{className:\"my-5 rounded-xl overflow-hidden shadow-xl border border-gray-700/50 bg-gray-900\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between px-4 py-2.5 bg-gray-800 border-b border-gray-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-1.5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full bg-red-500\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full bg-yellow-500\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full bg-green-500\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-2.5 py-0.5 rounded-md bg-gradient-to-r \".concat(gradientClass,\" text-white text-xs font-semibold uppercase tracking-wider\"),children:language})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCopy,className:\"flex items-center gap-1.5 px-3 py-1 rounded-md text-xs font-medium transition-all \".concat(copied?'bg-green-500/20 text-green-400':'bg-gray-700 hover:bg-gray-600 text-gray-300'),children:copied?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FiCheck,{size:12}),\" Copied!\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FiCopy,{size:12}),\" Copy\"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 overflow-x-auto bg-[#1a1b26]\",children:/*#__PURE__*/_jsx(\"pre\",{ref:codeRef,className:\"m-0\",children:/*#__PURE__*/_jsx(\"code\",{className:\"text-sm text-gray-100 font-mono leading-relaxed block\",children:children})})})]});};// ============================================\n// LIST ITEM COMPONENTS\n// ============================================\nconst NumberedListItem=_ref3=>{let{children,index}=_ref3;return/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start gap-4 py-2 group\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"flex-shrink-0 w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 text-white rounded-lg flex items-center justify-center text-sm font-bold shadow-md group-hover:scale-110 transition-transform\",children:index}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 pt-1 text-gray-700 leading-relaxed\",children:children})]});};const BulletListItem=_ref4=>{let{children}=_ref4;return/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start gap-3 py-1.5\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"flex-shrink-0 w-2 h-2 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full mt-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 text-gray-700 leading-relaxed\",children:children})]});};export const AIResponseBox=_ref5=>{let{content}=_ref5;const[copied,setCopied]=useState(false);let olIndex=0;const handleCopyAll=async()=>{try{await navigator.clipboard.writeText(content);setCopied(true);setTimeout(()=>setCopied(false),2000);}catch(err){console.error('Failed to copy:',err);}};return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-start w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 max-w-[95%] w-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-gradient-to-br from-violet-500 via-purple-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg shadow-purple-500/30\",children:/*#__PURE__*/_jsx(FiCpu,{className:\"text-white\",size:20})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 min-w-0 relative group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl rounded-tl-md shadow-xl border border-gray-200 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-1.5 bg-gradient-to-r from-violet-500 via-purple-500 to-pink-500\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-4 top-6 opacity-0 group-hover:opacity-100 transition-all z-20\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleCopyAll,className:\"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium shadow-lg transition-all \".concat(copied?'bg-green-500 text-white':'bg-gray-800 hover:bg-gray-700 text-white'),title:\"Copy entire response\",children:copied?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FiCheck,{size:12}),\" Copied!\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FiCopy,{size:12}),\" Copy All\"]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-5\",children:/*#__PURE__*/_jsx(ReactMarkdown,{remarkPlugins:[remarkGfm],components:{// ========== HEADINGS ==========\nh1:_ref6=>{let{children}=_ref6;return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 mb-4 first:mt-0\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-2xl font-bold text-gray-900 flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg\",children:/*#__PURE__*/_jsx(FiBookOpen,{className:\"text-white\",size:18})}),children]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-1 w-24 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full mt-3\"})]});},h2:_ref7=>{let{children}=_ref7;return/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold text-gray-800 mt-8 mb-4 first:mt-0 flex items-center gap-3 bg-gradient-to-r from-blue-50 via-indigo-50 to-transparent px-4 py-3 rounded-xl border-l-4 border-blue-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-500\",children:\"\\u25B8\"}),children]});},h3:_ref8=>{let{children}=_ref8;return/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-800 mt-6 mb-3 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 bg-purple-500 rounded-full\"}),children]});},h4:_ref9=>{let{children}=_ref9;return/*#__PURE__*/_jsx(\"h4\",{className:\"text-base font-semibold text-gray-700 mt-4 mb-2 pl-4 border-l-2 border-gray-300\",children:children});},// ========== PARAGRAPH ==========\np:_ref0=>{let{children}=_ref0;return/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 my-4 leading-7 text-[15px]\",children:children});},// ========== TEXT FORMATTING ==========\nstrong:_ref1=>{let{children}=_ref1;return/*#__PURE__*/_jsx(\"strong\",{className:\"font-bold text-gray-900 bg-gradient-to-r from-yellow-100 to-amber-100 px-1.5 py-0.5 rounded-md\",children:children});},em:_ref10=>{let{children}=_ref10;return/*#__PURE__*/_jsx(\"em\",{className:\"italic text-gray-800\",children:children});},// ========== CODE BLOCKS ==========\npre:_ref11=>{var _codeChild$props;let{children}=_ref11;const extractText=child=>{var _child$props;if(typeof child==='string')return child;if(child!==null&&child!==void 0&&(_child$props=child.props)!==null&&_child$props!==void 0&&_child$props.children){if(Array.isArray(child.props.children)){return child.props.children.map(extractText).join('');}return extractText(child.props.children);}return'';};const getCodeLang=child=>{var _child$props2;if(child!==null&&child!==void 0&&(_child$props2=child.props)!==null&&_child$props2!==void 0&&_child$props2.className){return getLanguageFromClass(child.props.className);}return'code';};const textContent=extractText(children);const codeChild=React.Children.toArray(children)[0];const language=getCodeLang(codeChild);if(isFlowchartContent(textContent)){return/*#__PURE__*/_jsx(FlowchartBlock,{content:textContent});}return/*#__PURE__*/_jsx(CodeBlock,{language:language,children:(codeChild===null||codeChild===void 0?void 0:(_codeChild$props=codeChild.props)===null||_codeChild$props===void 0?void 0:_codeChild$props.children)||children});},// ========== INLINE CODE ==========\ncode:_ref12=>{let{className,children}=_ref12,props=_objectWithoutProperties(_ref12,_excluded);const isInline=!className;if(isInline){return/*#__PURE__*/_jsx(\"code\",_objectSpread(_objectSpread({className:\"bg-gradient-to-r from-gray-100 to-gray-200 text-indigo-700 px-2 py-1 rounded-md text-sm font-mono font-medium border border-gray-300\"},props),{},{children:children}));}return/*#__PURE__*/_jsx(\"code\",_objectSpread(_objectSpread({className:\"\".concat(className||'',\" text-sm\")},props),{},{children:children}));},// ========== TABLES ==========\ntable:_ref13=>{let{children}=_ref13;return/*#__PURE__*/_jsx(\"div\",{className:\"my-6 rounded-xl overflow-hidden border border-gray-200 shadow-lg\",children:/*#__PURE__*/_jsx(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:children})});},thead:_ref14=>{let{children}=_ref14;return/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gradient-to-r from-indigo-600 to-purple-600\",children:children});},tbody:_ref15=>{let{children}=_ref15;return/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-100\",children:children});},tr:_ref16=>{let{children}=_ref16;return/*#__PURE__*/_jsx(\"tr\",{className:\"hover:bg-indigo-50 transition-colors\",children:children});},th:_ref17=>{let{children}=_ref17;return/*#__PURE__*/_jsx(\"th\",{className:\"px-5 py-4 text-left text-xs font-bold text-white uppercase tracking-wider\",children:children});},td:_ref18=>{let{children}=_ref18;return/*#__PURE__*/_jsx(\"td\",{className:\"px-5 py-4 text-sm text-gray-700\",children:children});},// ========== LISTS ==========\nul:_ref19=>{let{children}=_ref19;return/*#__PURE__*/_jsx(\"ul\",{className:\"my-4 space-y-1 pl-1\",children:children});},ol:_ref20=>{let{children}=_ref20;olIndex=0;return/*#__PURE__*/_jsx(\"ol\",{className:\"my-4 space-y-2 pl-1\",children:children});},li:_ref21=>{let{children,ordered}=_ref21;if(ordered){olIndex++;return/*#__PURE__*/_jsx(NumberedListItem,{index:olIndex,children:children});}return/*#__PURE__*/_jsx(BulletListItem,{children:children});},// ========== BLOCKQUOTE ==========\nblockquote:_ref22=>{let{children}=_ref22;return/*#__PURE__*/_jsxs(\"blockquote\",{className:\"my-6 relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-amber-400 to-orange-500 rounded-full\"}),/*#__PURE__*/_jsx(\"div\",{className:\"pl-6 pr-4 py-4 bg-gradient-to-r from-amber-50 via-yellow-50 to-transparent rounded-r-xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83D\\uDCA1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-700 flex-1 italic\",children:children})]})})]});},// ========== HORIZONTAL RULE ==========\nhr:()=>/*#__PURE__*/_jsxs(\"div\",{className:\"my-8 flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 h-px bg-gradient-to-r from-transparent via-gray-300 to-transparent\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 bg-purple-400 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 bg-indigo-400 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 bg-blue-400 rounded-full\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 h-px bg-gradient-to-r from-transparent via-gray-300 to-transparent\"})]}),// ========== LINKS ==========\na:_ref23=>{let{href,children}=_ref23;return/*#__PURE__*/_jsxs(\"a\",{href:href,className:\"inline-flex items-center gap-1 text-indigo-600 hover:text-indigo-800 font-medium underline decoration-indigo-300 hover:decoration-indigo-500 underline-offset-2 transition-all\",target:\"_blank\",rel:\"noopener noreferrer\",children:[children,/*#__PURE__*/_jsx(\"span\",{className:\"text-xs opacity-70\",children:\"\\u2197\"})]});},// ========== IMAGES ==========\nimg:_ref24=>{let{src,alt}=_ref24;return/*#__PURE__*/_jsxs(\"div\",{className:\"my-4 rounded-xl overflow-hidden shadow-lg border border-gray-200\",children:[/*#__PURE__*/_jsx(\"img\",{src:src,alt:alt,className:\"w-full h-auto\"}),alt&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-sm text-gray-500 py-2 bg-gray-50\",children:alt})]});}},children:content})})]})})]})});};export default AIResponseBox;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}