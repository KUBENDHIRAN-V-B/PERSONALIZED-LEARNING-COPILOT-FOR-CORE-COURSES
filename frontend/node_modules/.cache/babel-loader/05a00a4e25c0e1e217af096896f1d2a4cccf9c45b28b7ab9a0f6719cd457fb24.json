{"ast":null,"code":"import React,{useState,useCallback,memo}from'react';import{useNavigate}from'react-router-dom';import{FiMail,FiLock,FiUser,FiEye,FiEyeOff}from'react-icons/fi';import{authAPI}from'../services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const LoginPage=/*#__PURE__*/memo(_ref=>{let{onLogin}=_ref;const[isLogin,setIsLogin]=useState(true);const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[name,setName]=useState('');const[showPassword,setShowPassword]=useState(false);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const navigate=useNavigate();const handleSubmit=useCallback(async e=>{e.preventDefault();setLoading(true);setError('');try{const response=isLogin?await authAPI.login(email,password):await authAPI.register(email,password,name);onLogin(response.data.token);navigate('/dashboard');}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||'An error occurred. Please try again.');}finally{setLoading(false);}},[isLogin,email,password,name,onLogin,navigate]);const toggleMode=useCallback(()=>{setIsLogin(!isLogin);setError('');},[isLogin]);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-600 via-blue-700 to-purple-700 flex items-center justify-center p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-0 overflow-hidden pointer-events-none\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full opacity-20 blur-3xl\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-400 rounded-full opacity-20 blur-3xl\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-8 w-full max-w-md animate-fade-in relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl mx-auto mb-4 flex items-center justify-center shadow-lg\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold text-white\",children:\"LC\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\",children:\"Learning Copilot\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:\"Your AI-powered learning companion\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-5\",children:[!isLogin&&/*#__PURE__*/_jsxs(\"div\",{className:\"animate-slide-in\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[/*#__PURE__*/_jsx(FiUser,{className:\"inline mr-2\"}),\"Full Name\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\",placeholder:\"John Doe\",required:!isLogin,autoComplete:\"name\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[/*#__PURE__*/_jsx(FiMail,{className:\"inline mr-2\"}),\"Email\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\",placeholder:\"you@example.com\",required:true,autoComplete:\"email\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[/*#__PURE__*/_jsx(FiLock,{className:\"inline mr-2\"}),\"Password\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',value:password,onChange:e=>setPassword(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all pr-12\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",required:true,minLength:6,autoComplete:isLogin?'current-password':'new-password'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowPassword(!showPassword),className:\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors\",children:showPassword?/*#__PURE__*/_jsx(FiEyeOff,{size:20}):/*#__PURE__*/_jsx(FiEye,{size:20})})]})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl animate-fade-in flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"\\u26A0\"}),error]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-200 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-2 shadow-lg\",children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin\"}),isLogin?'Signing in...':'Creating account...']}):isLogin?'Sign In':'Create Account'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 text-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[isLogin?\"Don't have an account?\":'Already have an account?',/*#__PURE__*/_jsx(\"button\",{onClick:toggleMode,className:\"text-blue-600 font-semibold ml-2 hover:text-blue-700 hover:underline transition-colors\",children:isLogin?'Sign up':'Sign in'})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 p-4 bg-blue-50 rounded-xl\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-blue-600 text-center\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Demo:\"}),\" Create any account to get started\"]})})]})]});});export default LoginPage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}