{"ast":null,"code":"import React,{useEffect,useState,useCallback,memo}from'react';import{useNavigate}from'react-router-dom';import{FiLogOut,FiBook,FiBarChart2,FiMessageSquare,FiZap}from'react-icons/fi';import{analyticsAPI}from'../services/api';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";// Skeleton loader component\nconst Skeleton=_ref=>{let{className=''}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-200 animate-pulse rounded \".concat(className)});};// Stat Card component\nconst StatCard=_ref2=>{let{label,value,subtext,color='blue',loading=false}=_ref2;const colors={blue:'text-blue-600',green:'text-green-600',purple:'text-purple-600',orange:'text-orange-600'};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Skeleton,{className:\"h-4 w-20 mb-2\"}),/*#__PURE__*/_jsx(Skeleton,{className:\"h-8 w-16 mb-1\"}),/*#__PURE__*/_jsx(Skeleton,{className:\"h-3 w-24\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600 text-sm font-semibold\",children:label}),/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold \".concat(colors[color]),children:value}),subtext&&/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500 text-xs\",children:subtext})]})});};const DashboardPage=/*#__PURE__*/memo(_ref3=>{let{onLogout}=_ref3;const navigate=useNavigate();const[analytics,setAnalytics]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{let mounted=true;const fetchAnalytics=async()=>{try{const data=await analyticsAPI.getDashboard();if(mounted)setAnalytics(data);}catch(error){console.error('Failed to fetch analytics:',error);}finally{if(mounted)setLoading(false);}};fetchAnalytics();return()=>{mounted=false;};},[]);const handleLogout=useCallback(()=>{onLogout();navigate('/login');},[onLogout,navigate]);const navigateTo=useCallback(path=>()=>navigate(path),[navigate]);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-white shadow-sm sticky top-0 z-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 py-4 flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold\",children:\"LC\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Learning Copilot\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"flex items-center gap-2 bg-red-50 text-red-600 px-4 py-2 rounded-lg hover:bg-red-100 transition-colors font-medium\",children:[/*#__PURE__*/_jsx(FiLogOut,{}),\" Logout\"]})]})}),/*#__PURE__*/_jsxs(\"main\",{className:\"max-w-7xl mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-blue-600 via-blue-700 to-purple-700 text-white rounded-2xl p-8 mb-8 shadow-xl animate-fade-in relative overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-0 overflow-hidden pointer-events-none\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-20 -right-20 w-60 h-60 bg-white/10 rounded-full blur-2xl\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute -bottom-20 -left-20 w-60 h-60 bg-purple-500/20 rounded-full blur-2xl\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-2\",children:\"Welcome back! \\uD83D\\uDC4B\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-100 text-lg\",children:\"Continue your learning journey and master core CS concepts\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8\",children:[/*#__PURE__*/_jsx(StatCard,{label:\"Sessions\",value:(analytics===null||analytics===void 0?void 0:analytics.thisWeek.sessions)||0,subtext:\"This week\",color:\"blue\",loading:loading}),/*#__PURE__*/_jsx(StatCard,{label:\"Hours\",value:\"\".concat((analytics===null||analytics===void 0?void 0:analytics.thisWeek.hours)||0,\"h\"),subtext:\"This week\",color:\"green\",loading:loading}),/*#__PURE__*/_jsx(StatCard,{label:\"Accuracy\",value:\"\".concat((analytics===null||analytics===void 0?void 0:analytics.thisWeek.accuracy)||0,\"%\"),subtext:\"Average\",color:\"purple\",loading:loading}),/*#__PURE__*/_jsx(StatCard,{label:\"Concepts\",value:(analytics===null||analytics===void 0?void 0:analytics.thisWeek.conceptsMastered)||0,subtext:\"Mastered\",color:\"orange\",loading:loading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{onClick:navigateTo('/courses'),className:\"bg-white rounded-lg shadow p-6 cursor-pointer hover:shadow-lg transition-all group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-14 h-14 bg-blue-100 rounded-xl flex items-center justify-center mb-4 group-hover:bg-blue-600 transition-colors\",children:/*#__PURE__*/_jsx(FiBook,{className:\"text-2xl text-blue-600 group-hover:text-white transition-colors\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-2 text-gray-900\",children:\"Courses\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Explore DSA, DBMS, Algorithms, and OOP courses\"})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:navigateTo('/chat/dsa'),className:\"bg-white rounded-lg shadow p-6 cursor-pointer hover:shadow-lg transition-all group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-14 h-14 bg-green-100 rounded-xl flex items-center justify-center mb-4 group-hover:bg-green-600 transition-colors\",children:/*#__PURE__*/_jsx(FiMessageSquare,{className:\"text-2xl text-green-600 group-hover:text-white transition-colors\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-2 text-gray-900\",children:\"Chat with AI\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Ask questions and get personalized explanations\"})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:navigateTo('/analytics'),className:\"bg-white rounded-lg shadow p-6 cursor-pointer hover:shadow-lg transition-all group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-14 h-14 bg-purple-100 rounded-xl flex items-center justify-center mb-4 group-hover:bg-purple-600 transition-colors\",children:/*#__PURE__*/_jsx(FiBarChart2,{className:\"text-2xl text-purple-600 group-hover:text-white transition-colors\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-2 text-gray-900\",children:\"Analytics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Track your progress and learning insights\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FiZap,{className:\"text-yellow-500\"}),\" Recommendations\"]}),loading?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(Skeleton,{className:\"h-6 w-full\"}),/*#__PURE__*/_jsx(Skeleton,{className:\"h-6 w-3/4\"}),/*#__PURE__*/_jsx(Skeleton,{className:\"h-6 w-5/6\"})]}):/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-3\",children:analytics===null||analytics===void 0?void 0:analytics.recommendations.map((rec,idx)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start gap-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600 text-sm\",children:\"\\u2713\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:rec})]},idx))})]})]})]});});export default DashboardPage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}