{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{FiZap,FiX,FiMoon,FiVolume2,FiVolumeX,FiMaximize,FiMinimize,FiClock,FiTarget}from'react-icons/fi';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const DistractionStop=_ref=>{let{onFocusModeChange}=_ref;const[isFocusMode,setIsFocusMode]=useState(false);const[isFullscreen,setIsFullscreen]=useState(false);const[focusTime,setFocusTime]=useState(0);const[showSettings,setShowSettings]=useState(false);const[soundEnabled,setSoundEnabled]=useState(true);const[darkOverlay,setDarkOverlay]=useState(true);// Focus session timer\nuseEffect(()=>{let interval;if(isFocusMode){interval=setInterval(()=>{setFocusTime(prev=>prev+1);},1000);}return()=>clearInterval(interval);},[isFocusMode]);// Handle fullscreen\nconst toggleFullscreen=useCallback(async()=>{try{if(!document.fullscreenElement){await document.documentElement.requestFullscreen();setIsFullscreen(true);}else{await document.exitFullscreen();setIsFullscreen(false);}}catch(err){console.error('Fullscreen error:',err);}},[]);// Listen for fullscreen changes\nuseEffect(()=>{const handleFullscreenChange=()=>{setIsFullscreen(!!document.fullscreenElement);};document.addEventListener('fullscreenchange',handleFullscreenChange);return()=>document.removeEventListener('fullscreenchange',handleFullscreenChange);},[]);// Activate focus mode\nconst activateFocusMode=useCallback(()=>{setIsFocusMode(true);setFocusTime(0);onFocusModeChange===null||onFocusModeChange===void 0?void 0:onFocusModeChange(true);// Request fullscreen\nif(!document.fullscreenElement){document.documentElement.requestFullscreen().catch(()=>{});}// Play activation sound\nif(soundEnabled){const audio=new Audio('data:audio/wav;base64,UklGRl9vT19teleXBhdmVmbXQgEAAAAAQAABAAgIAABAAgAAAAAAAA');audio.volume=0.3;audio.play().catch(()=>{});}// Request notification permission and block notifications\nif('Notification'in window&&Notification.permission==='default'){Notification.requestPermission();}},[soundEnabled,onFocusModeChange]);// Deactivate focus mode\nconst deactivateFocusMode=useCallback(()=>{setIsFocusMode(false);onFocusModeChange===null||onFocusModeChange===void 0?void 0:onFocusModeChange(false);// Exit fullscreen\nif(document.fullscreenElement){document.exitFullscreen().catch(()=>{});}},[onFocusModeChange]);// Format time\nconst formatTime=seconds=>{const hrs=Math.floor(seconds/3600);const mins=Math.floor(seconds%3600/60);const secs=seconds%60;if(hrs>0){return\"\".concat(hrs,\":\").concat(mins.toString().padStart(2,'0'),\":\").concat(secs.toString().padStart(2,'0'));}return\"\".concat(mins,\":\").concat(secs.toString().padStart(2,'0'));};// Focus Mode Active UI\nif(isFocusMode){return/*#__PURE__*/_jsxs(_Fragment,{children:[darkOverlay&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/5 pointer-events-none z-40\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fixed top-4 right-4 z-50 flex items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-4 py-2 rounded-full shadow-lg flex items-center gap-2 animate-pulse\",children:[/*#__PURE__*/_jsx(FiTarget,{className:\"text-lg\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-mono font-bold\",children:formatTime(focusTime)}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs opacity-80\",children:\"Focus Time\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleFullscreen,className:\"bg-white/90 backdrop-blur-sm p-2 rounded-full shadow-lg hover:bg-white transition-all\",title:isFullscreen?'Exit Fullscreen':'Enter Fullscreen',children:isFullscreen?/*#__PURE__*/_jsx(FiMinimize,{className:\"text-gray-700\"}):/*#__PURE__*/_jsx(FiMaximize,{className:\"text-gray-700\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSoundEnabled(!soundEnabled),className:\"bg-white/90 backdrop-blur-sm p-2 rounded-full shadow-lg hover:bg-white transition-all\",title:soundEnabled?'Mute Sounds':'Enable Sounds',children:soundEnabled?/*#__PURE__*/_jsx(FiVolume2,{className:\"text-gray-700\"}):/*#__PURE__*/_jsx(FiVolumeX,{className:\"text-gray-700\"})}),/*#__PURE__*/_jsxs(\"button\",{onClick:deactivateFocusMode,className:\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-full shadow-lg flex items-center gap-2 transition-all\",children:[/*#__PURE__*/_jsx(FiX,{}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Exit Focus\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-24 left-1/2 -translate-x-1/2 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/80 backdrop-blur-sm px-4 py-2 rounded-full shadow-lg text-sm text-gray-600 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-green-500 rounded-full animate-ping\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Focus Mode Active \\u2022 Stay concentrated!\"})]})})]});}// Normal State - Distraction Stop Button\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"fixed top-4 right-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:activateFocusMode,onMouseEnter:()=>setShowSettings(true),onMouseLeave:()=>setShowSettings(false),className:\"group bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white px-4 py-2.5 rounded-full shadow-lg flex items-center gap-2 transition-all transform hover:scale-105\",children:[/*#__PURE__*/_jsx(FiZap,{className:\"text-lg group-hover:animate-pulse\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Focus Mode\"})]}),showSettings&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-full right-0 mt-2 bg-white rounded-xl shadow-xl p-4 w-64 animate-fade-in\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-bold text-gray-900 mb-2 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FiZap,{className:\"text-purple-600\"}),\"Distraction Stop\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-3\",children:\"Activate to enter a distraction-free learning environment:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-xs text-gray-500 space-y-1.5\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FiMaximize,{className:\"text-blue-500\"}),\" Full-screen immersion\"]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FiMoon,{className:\"text-purple-500\"}),\" Reduced visual clutter\"]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FiClock,{className:\"text-green-500\"}),\" Focus time tracking\"]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FiTarget,{className:\"text-orange-500\"}),\" Distraction blocking\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 pt-3 border-t border-gray-100\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-400\",children:[\"Press \",/*#__PURE__*/_jsx(\"kbd\",{className:\"bg-gray-100 px-1 rounded\",children:\"Esc\"}),\" to exit focus mode\"]})})]})]})});};export default DistractionStop;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}