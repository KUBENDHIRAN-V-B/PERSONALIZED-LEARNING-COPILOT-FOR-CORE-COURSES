{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\n\n// Create axios instance with optimized config\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 15000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Response interceptor for error handling\napi.interceptors.response.use(response => response, error => {\n  const axiosError = error;\n  // Removed login redirect since authentication is disabled\n  return Promise.reject(error);\n});\n\n// Simple cache for GET requests\nconst cache = new Map();\nconst CACHE_DURATION = 30000; // 30 seconds\n\n// Cached GET request\nexport const cachedGet = async (url, config) => {\n  const cacheKey = url + JSON.stringify((config === null || config === void 0 ? void 0 : config.params) || {});\n  const cached = cache.get(cacheKey);\n  if (cached && Date.now() - cached.timestamp < CACHE_DURATION) {\n    return cached.data;\n  }\n  const response = await api.get(url, config);\n  cache.set(cacheKey, {\n    data: response.data,\n    timestamp: Date.now()\n  });\n  return response.data;\n};\n\n// Clear cache\nexport const clearCache = () => cache.clear();\n\n// API methods\nexport const authAPI = {\n  login: (email, password) => api.post('/api/auth/login', {\n    email,\n    password\n  }),\n  register: (email, password, name) => api.post('/api/auth/register', {\n    email,\n    password,\n    name\n  })\n};\nexport const chatAPI = {\n  sendMessage: (courseId, message, conversationId) => api.post('/api/chat/message', {\n    courseId,\n    message,\n    conversationId\n  }),\n  getHistory: conversationId => api.get(`/api/chat/history/${conversationId}`)\n};\nexport const coursesAPI = {\n  getAll: () => cachedGet('/api/courses'),\n  getById: courseId => cachedGet(`/api/courses/${courseId}`),\n  enroll: courseId => api.post(`/api/courses/${courseId}/enroll`)\n};\nexport const analyticsAPI = {\n  getDashboard: () => cachedGet('/api/analytics/dashboard'),\n  getExamReadiness: courseId => cachedGet(`/api/analytics/exam-readiness/${courseId}`),\n  logSession: data => api.post('/api/analytics/session', data),\n  // Personalized insights\n  getInsights: () => api.get('/api/analytics/insights'),\n  // Study timer\n  startTimer: (topic, courseId) => api.post('/api/analytics/timer/start', {\n    topic,\n    courseId\n  }),\n  stopTimer: (accuracy, focusScore) => api.post('/api/analytics/timer/stop', {\n    accuracy,\n    focusScore\n  }),\n  getTimerStatus: () => api.get('/api/analytics/timer/status'),\n  // Mastery updates\n  updateMastery: (topic, score, timeSpent) => api.post('/api/analytics/mastery/update', {\n    topic,\n    score,\n    timeSpent\n  }),\n  // User preferences\n  setFocusTime: (startHour, endHour) => api.post('/api/analytics/preferences/focus-time', {\n    startHour,\n    endHour\n  }),\n  clearFocusTime: () => api.delete('/api/analytics/preferences/focus-time'),\n  setMasteryGoal: (topic, goal) => api.post('/api/analytics/preferences/mastery-goal', {\n    topic,\n    goal\n  })\n};\nexport const learningAPI = {\n  getProfile: () => cachedGet('/api/learning/profile'),\n  updateProfile: data => api.put('/api/learning/profile', data),\n  getMastery: courseId => cachedGet(`/api/learning/mastery/${courseId}`)\n};\n\n// API Status for monitoring\nexport const statusAPI = {\n  getStatus: () => axios.get(`${API_BASE_URL}/api/status`)\n};\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","timeout","headers","interceptors","response","use","error","axiosError","Promise","reject","cache","Map","CACHE_DURATION","cachedGet","url","config","cacheKey","JSON","stringify","params","cached","get","Date","now","timestamp","data","set","clearCache","clear","authAPI","login","email","password","post","register","name","chatAPI","sendMessage","courseId","message","conversationId","getHistory","coursesAPI","getAll","getById","enroll","analyticsAPI","getDashboard","getExamReadiness","logSession","getInsights","startTimer","topic","stopTimer","accuracy","focusScore","getTimerStatus","updateMastery","score","timeSpent","setFocusTime","startHour","endHour","clearFocusTime","delete","setMasteryGoal","goal","learningAPI","getProfile","updateProfile","put","getMastery","statusAPI","getStatus"],"sources":["C:/Users/kuben/OneDrive/Desktop/PERSONALIZED LEARNING COPILOT FOR CORE COURSES/frontend/src/services/api.ts"],"sourcesContent":["import axios, { AxiosInstance, AxiosRequestConfig, AxiosResponse, InternalAxiosRequestConfig } from 'axios';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\r\n\r\n// Create axios instance with optimized config\r\nconst api: AxiosInstance = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  timeout: 15000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Response interceptor for error handling\r\napi.interceptors.response.use(\r\n  (response: AxiosResponse) => response,\r\n  (error: unknown) => {\r\n    const axiosError = error as { response?: { status: number } };\r\n    // Removed login redirect since authentication is disabled\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Simple cache for GET requests\r\nconst cache = new Map<string, { data: any; timestamp: number }>();\r\nconst CACHE_DURATION = 30000; // 30 seconds\r\n\r\n// Cached GET request\r\nexport const cachedGet = async <T>(url: string, config?: AxiosRequestConfig): Promise<T> => {\r\n  const cacheKey = url + JSON.stringify(config?.params || {});\r\n  const cached = cache.get(cacheKey);\r\n  \r\n  if (cached && Date.now() - cached.timestamp < CACHE_DURATION) {\r\n    return cached.data;\r\n  }\r\n  \r\n  const response = await api.get<T>(url, config);\r\n  cache.set(cacheKey, { data: response.data, timestamp: Date.now() });\r\n  return response.data;\r\n};\r\n\r\n// Clear cache\r\nexport const clearCache = () => cache.clear();\r\n\r\n// API methods\r\nexport const authAPI = {\r\n  login: (email: string, password: string) =>\r\n    api.post('/api/auth/login', { email, password }),\r\n  register: (email: string, password: string, name: string) =>\r\n    api.post('/api/auth/register', { email, password, name }),\r\n};\r\n\r\nexport const chatAPI = {\r\n  sendMessage: (courseId: string, message: string, conversationId?: string) =>\r\n    api.post('/api/chat/message', { courseId, message, conversationId }),\r\n  getHistory: (conversationId: string) =>\r\n    api.get(`/api/chat/history/${conversationId}`),\r\n};\r\n\r\nexport const coursesAPI = {\r\n  getAll: () => cachedGet<{ courses: any[] }>('/api/courses'),\r\n  getById: (courseId: string) => cachedGet<any>(`/api/courses/${courseId}`),\r\n  enroll: (courseId: string) => api.post(`/api/courses/${courseId}/enroll`),\r\n};\r\n\r\nexport const analyticsAPI = {\r\n  getDashboard: () => cachedGet<any>('/api/analytics/dashboard'),\r\n  getExamReadiness: (courseId: string) =>\r\n    cachedGet<any>(`/api/analytics/exam-readiness/${courseId}`),\r\n  logSession: (data: any) => api.post('/api/analytics/session', data),\r\n  \r\n  // Personalized insights\r\n  getInsights: () => api.get('/api/analytics/insights'),\r\n  \r\n  // Study timer\r\n  startTimer: (topic: string, courseId: string) => \r\n    api.post('/api/analytics/timer/start', { topic, courseId }),\r\n  stopTimer: (accuracy?: number, focusScore?: number) => \r\n    api.post('/api/analytics/timer/stop', { accuracy, focusScore }),\r\n  getTimerStatus: () => api.get('/api/analytics/timer/status'),\r\n  \r\n  // Mastery updates\r\n  updateMastery: (topic: string, score: number, timeSpent: number) =>\r\n    api.post('/api/analytics/mastery/update', { topic, score, timeSpent }),\r\n  \r\n  // User preferences\r\n  setFocusTime: (startHour: number, endHour: number) =>\r\n    api.post('/api/analytics/preferences/focus-time', { startHour, endHour }),\r\n  clearFocusTime: () =>\r\n    api.delete('/api/analytics/preferences/focus-time'),\r\n  setMasteryGoal: (topic: string, goal: number) =>\r\n    api.post('/api/analytics/preferences/mastery-goal', { topic, goal }),\r\n};\r\n\r\nexport const learningAPI = {\r\n  getProfile: () => cachedGet<any>('/api/learning/profile'),\r\n  updateProfile: (data: any) => api.put('/api/learning/profile', data),\r\n  getMastery: (courseId: string) =>\r\n    cachedGet<any>(`/api/learning/mastery/${courseId}`),\r\n};\r\n\r\n// API Status for monitoring\r\nexport const statusAPI = {\r\n  getStatus: () => axios.get(`${API_BASE_URL}/api/status`),\r\n};\r\n\r\nexport default api;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}