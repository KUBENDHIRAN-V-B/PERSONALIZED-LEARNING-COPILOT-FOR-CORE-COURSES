{"ast":null,"code":"import axios from'axios';const API_BASE_URL=process.env.REACT_APP_API_URL||'http://localhost:5000';// Create axios instance with optimized config\nconst api=axios.create({baseURL:API_BASE_URL,timeout:15000,headers:{'Content-Type':'application/json'}});// Response interceptor for error handling\napi.interceptors.response.use(response=>response,error=>{var _axiosError$response;const axiosError=error;if(((_axiosError$response=axiosError.response)===null||_axiosError$response===void 0?void 0:_axiosError$response.status)===401){localStorage.removeItem('token');window.location.href='/login';}return Promise.reject(error);});// Simple cache for GET requests\nconst cache=new Map();const CACHE_DURATION=30000;// 30 seconds\n// Cached GET request\nexport const cachedGet=async(url,config)=>{const cacheKey=url+JSON.stringify((config===null||config===void 0?void 0:config.params)||{});const cached=cache.get(cacheKey);if(cached&&Date.now()-cached.timestamp<CACHE_DURATION){return cached.data;}const response=await api.get(url,config);cache.set(cacheKey,{data:response.data,timestamp:Date.now()});return response.data;};// Clear cache\nexport const clearCache=()=>cache.clear();// API methods\nexport const authAPI={login:(email,password)=>api.post('/api/auth/login',{email,password}),register:(email,password,name)=>api.post('/api/auth/register',{email,password,name})};export const chatAPI={sendMessage:(courseId,message,conversationId)=>api.post('/api/chat/message',{courseId,message,conversationId}),getHistory:conversationId=>api.get(\"/api/chat/history/\".concat(conversationId))};export const coursesAPI={getAll:()=>cachedGet('/api/courses'),getById:courseId=>cachedGet(\"/api/courses/\".concat(courseId)),enroll:courseId=>api.post(\"/api/courses/\".concat(courseId,\"/enroll\"))};export const analyticsAPI={getDashboard:()=>cachedGet('/api/analytics/dashboard'),getExamReadiness:courseId=>cachedGet(\"/api/analytics/exam-readiness/\".concat(courseId)),logSession:data=>api.post('/api/analytics/session',data),// Personalized insights\ngetInsights:()=>api.get('/api/analytics/insights'),// Study timer\nstartTimer:(topic,courseId)=>api.post('/api/analytics/timer/start',{topic,courseId}),stopTimer:(accuracy,focusScore)=>api.post('/api/analytics/timer/stop',{accuracy,focusScore}),getTimerStatus:()=>api.get('/api/analytics/timer/status'),// Mastery updates\nupdateMastery:(topic,score,timeSpent)=>api.post('/api/analytics/mastery/update',{topic,score,timeSpent}),// User preferences\nsetFocusTime:(startHour,endHour)=>api.post('/api/analytics/preferences/focus-time',{startHour,endHour}),clearFocusTime:()=>api.delete('/api/analytics/preferences/focus-time')};export const learningAPI={getProfile:()=>cachedGet('/api/learning/profile'),updateProfile:data=>api.put('/api/learning/profile',data),getMastery:courseId=>cachedGet(\"/api/learning/mastery/\".concat(courseId))};// API Status for monitoring\nexport const statusAPI={getStatus:()=>axios.get(\"\".concat(API_BASE_URL,\"/api/status\"))};export default api;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}